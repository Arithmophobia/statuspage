(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,t,n){e.exports=n(506)},506:function(e,t,n){"use strict";n.r(t);n(202);var a=n(1),r=n.n(a),i=n(70),c=n(93),s=n(94),o=n(98),u=n(95),l=n(99),d=n(97),m=n(52),v=n(191),f=n(192),h=n(193),p=n(194),E=n.n(p),g=["Virtual Machines","Cloud Services","Functions"],b=["East US","East US 2","North Europe"],O=["Alerting Engine","Event Pipeline"];function y(e){var t=JSON.parse(e).components.filter(function(e){return O.includes(e.name)}),n=[];return t.forEach(function(e){var t="operational"===e.status?"OK":"BAD";n.push({name:e.name,status:t})}),n}function j(e){var t=function(e){return(new DOMParser).parseFromString(e,"text/xml")}(e).getElementsByTagName("item"),n=[];g.forEach(function(e){var t=[];b.forEach(function(e){t.push({name:e,status:"OK"})}),n.push({name:e,locations:t})});for(var a=0;a<t.length;a++){var r=t[a].textContent;r=r.toLowerCase();for(var i=0;i<g.length;i++){var c=g[i];if(-1!==r.indexOf(c.toLowerCase()))for(var s=0;s<b.length;s++){var o=b[s];-1!==r.indexOf(o.toLowerCase())&&(n[i].locations[s].status="BAD")}}}return n}var w="REQUEST_STATUS",k="RECEIVE_STATUS",S="EXPIRE_STATUS";function x(e){return{type:S,serviceProvider:e}}function D(e,t){var n=function(e,t){switch(t){case"Azure":return j(e);case"DataDog":default:return y(e)}}(t,e);return{type:k,serviceProvider:e,status:n,receivedAt:Date.now()}}function A(e){var t=function(e){switch(e){case"Azure":return"https://azurecomcdn.azureedge.net/en-us/status/feed/";case"DataDog":default:return"https://status.datadoghq.com/index.json"}}(e);return function(n){return n(function(e){return{type:w,serviceProvider:e}}(e)),E()(t).then(function(e){return e.text()}).then(function(t){return n(D(e,t))})}}function C(e){return function(t,n){if(function(e,t){var n=e.statusesByServiceProvider[t];return!n||!n.isFetching&&n.didExpire}(n(),e))return t(A(e))}}var P=Object(m.c)({statusesByServiceProvider:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:case k:case w:return Object.assign({},e,Object(h.a)({},t.serviceProvider,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,didExpire:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object.assign({},e,{didExpire:!0});case w:return Object.assign({},e,{isFetching:!0,didExpire:!1});case k:return Object.assign({},e,{isFetching:!1,didExpire:!1,items:t.status,lastUpdated:t.receivedAt});default:return e}}(e[t.serviceProvider],t)));default:return e}}}),R=Object(f.createLogger)();var T=n(71),U=n(200),z=n.n(U),B=n(195),F=n.n(B),L=n(196),I=n.n(L),J=n(199),K=n.n(J),M=n(138),N=n.n(M),_=n(139),V=n.n(_),W=n(53),q=n.n(W),H=n(197),Q=n.n(H),X=n(101),G=n.n(X),Y=n(198),Z=n.n(Y),$=function(e){return"OK"===e.status?r.a.createElement(F.a,{style:{color:"lightgreen"}}):r.a.createElement(I.a,{style:{color:"red"}})},ee=function(e){var t=e.items;return void 0===t||0===t.length?null:t[0].locations?r.a.createElement(N.a,null,r.a.createElement(Q.a,null,r.a.createElement(G.a,null,r.a.createElement(q.a,null),t[0].locations.map(function(e){return r.a.createElement(q.a,{key:e.name},e.name)}))),r.a.createElement(V.a,null,t.map(function(e){return r.a.createElement(G.a,{key:e.name},r.a.createElement(q.a,null,e.name),e.locations.map(function(e){return r.a.createElement(q.a,{key:e.name},r.a.createElement($,{status:e.status}))}))}))):r.a.createElement(N.a,{style:{width:"25%"}},r.a.createElement(V.a,null,t.map(function(e){return r.a.createElement(G.a,{key:e.name},r.a.createElement(q.a,{component:"th",scope:"row"},e.name),r.a.createElement(q.a,{component:"th",scope:"row"},r.a.createElement($,{status:e.status})))})))},te=function(e){var t=e.handleRefresh,n=e.serviceProvider,a=e.status;if(null===n||null===a)return null;var i=a.lastUpdated,c=a.items,s=i?r.a.createElement("span",null,"Last updated at ",new Date(i).toLocaleTimeString(),"."," "):null;return r.a.createElement("div",{style:{paddingTop:"2%",paddingBottom:"2%",fontFamily:"Roboto, Helvetica, Arial, sans-serif"}},r.a.createElement(Z.a,null,r.a.createElement("div",{style:{color:"chartreuse",marginLeft:"auto",marginRight:"auto",textAlign:"center",fontSize:"40px",fontWeight:900}},n,r.a.createElement(K.a,{style:{boxShadow:"none",backgroundColor:"white"},variant:"fab",mini:!0,"aria-label":"Refresh",onClick:t},r.a.createElement(z.a,null))," "),r.a.createElement("div",{style:{textAlign:"center",paddingTop:"2vh"}},s),r.a.createElement(ee,{items:c})))},ne=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleRefreshClick=n.handleRefreshClick.bind(Object(T.a)(Object(T.a)(n))),n}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e(C("Azure")),e(C("DataDog")),this.interval=setInterval(function(){e(x("Azure")),e(x("DataDog")),e(C("Azure")),e(C("DataDog"))},6e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"handleRefreshClick",value:function(e,t){t.preventDefault();var n=this.props.dispatch;n(x(e)),n(C(e))}},{key:"render",value:function(){var e=this,t=this.props.statuses,n=Object.keys(t).map(function(n){return r.a.createElement(te,{key:n,handleRefresh:e.handleRefreshClick.bind(e,n),serviceProvider:n,status:t[n]})});return r.a.createElement("div",null,r.a.createElement("div",null,n))}}]),t}(a.Component);var ae,re=Object(d.b)(function(e){return{statuses:e.statusesByServiceProvider}})(ne),ie=Object(m.d)(P,ae,Object(m.a)(v.a,R)),ce=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:ie},r.a.createElement(re,null))}}]),t}(a.Component);Object(i.render)(r.a.createElement(ce,null),document.getElementById("root"))}},[[201,2,1]]]);
//# sourceMappingURL=main.745b642f.chunk.js.map